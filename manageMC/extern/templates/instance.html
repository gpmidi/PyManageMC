{% extends "base.html" %}
{% load cache %}
{# Default page #}

{% block body %}
    {% cache 60 indexbody0 %}
        <div class="newsbox">
            <h1>Minecraft Server {{ instance.name }}</h1>
            <div class="newspost">
                <div>
                    <h2 class="NewsTitle">{{ instance.humanName }}</h2>
                    <span>ID {{ instance.name }} ({{ instance.status }})</span>
                </div>
                <p class="News">
                    <b>Description: </b><br/>
                    <p>
                        {{ instance.description }}                        
                    </p>
                    
                    <b>Status: </b> {{ instance.status }}<br/>
                    
                    <b>Connection Info</b><br/>
                    <ul>
                        {% for info in instance.serverinstanceexternalinfo_set.all %}
                            <li>{{ info.host }}:{{ info.port }}</li>
                        {% endfor %}
                    </ul>
                    
                    <b>Owner: </b> {{ instance.owner}}<br/>
                    
                    <b>Admins: </b><br/>
                    <ul>
                        {% for admin in instance.admins.all %}
                            <li>{{ admin }}</li>
                        {% endfor %}
                    </ul>
                    
                    {% if user.is_staff %}
                        <b>Internal IP: </b> {{ instance.internalIP }}<br/>
                        <b>Internal Port: </b> {{ instance.port }}<br/>
                        <b>System: </b> {{ instance.system }}<br/>
                    {% endif %}
                </p>
            </div>
        </div>
    {% endcache %}
{% endblock %}
